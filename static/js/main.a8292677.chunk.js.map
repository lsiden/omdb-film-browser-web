{"version":3,"sources":["../public/movie-icon.svg","registerServiceWorker.jsx","store/const.jsx","store/reducers.jsx","store/index.jsx","store/async.jsx","omdb_constants.jsx","components/nav-button.jsx","components/more-button.jsx","components/scroll.jsx","components/spinner.jsx","components/scroll-to-top-btn.jsx","components/search-stats.jsx","components/film-title.jsx","components/film-list.jsx","features/film-list.jsx","components/close-button.jsx","style.jsx","components/omdb-banner.jsx","features/film-details.jsx","features/about.jsx","components/icons.jsx","components/search-input.jsx","components/query-form.jsx","omdb-main.jsx","helpers/index.jsx","index.jsx"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","URL","process","origin","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","reduceUniqueFilms","res","film","imdbID","reduceNewFilms","data","films","reduce","totalResults","parseInt","pageNum","reduceMoreFilms","replaceFilms","query","type","ActionType","appendFilms","updateFilmDetails","filmDetails","setFetching","isFetching","getFilms","Object","values","configureStore","reducer","action","ActionTypes","preloadedState","middleware","getDefaultMiddleware","OBDB_API","queryFetchUri","toJson","json","e","Promise","reject","onCatch","toastr","preventDuplicates","promiseFetchOrTimeout","dispatch","uri","timeout","millisec","timeoutPromise","_","setTimeout","Error","race","finally","clearTimeout","promiseQueryResults","Search","promiseQueryPageFetch","store","getState","nextPageNum","page","pageFetchUri","promiseFilmDetails","id","filmFetchUri","_setQuery","setQuery","debouncedDispatchPromiseQueryResults","debounce","NavButton","style","title","onClick","children","className","defaultProps","buttonStyle","marginBottom","fontSize","color","connect","dispatchPageFetch","length","scrollToTop","scrollTo","_Spinner","busy","btnStyle","marginLeft","ScrollToTopButton","props","toggleVisibility","bind","isVisible","hasScrollbar","this","removeEventListener","scrollY","setState","React","Component","_SearchStats","numFetched","numFound","ownProps","linkStyle","FilmTitle","filmSummary","to","Title","Year","ulStyle","listStyleType","lineHeight","marginTop","map","key","bottomRowStyle","display","justifyContent","alignItems","spinnerStyle","margin","FilmListWrapper","document","body","scrollHeight","err","errInfo","closeButtonStyle","CloseButton","next","headerStyle","background","padding","src","logo","height","alt","test","href","titleStyle","detailsStyle","topButtonStyle","itemExists","item","titleBannerStyle","_FilmDetails","dispatchFetchFilmDetails","ev","keyCode","history","back","onKeyDown","FilmDetail","name","label","Awards","Website","size","renderTitle","Poster","renderDetails","renderScrollToTopButton","source","aboutBannerStyle","_About","outline","searchIconStyle","position","top","left","transform","cancelIconStyle","bottom","right","SearchIcon","charSet","dangerouslySetInnerHTML","__html","CancelIcon","role","tabIndex","aria-label","onKeyPress","wrapperStyle","width","inputStyle","textIndent","SearchInput","value","onCancelClick","onChange","placeholder","formRowStyle","searchLabelStyle","marginRight","searchInputStyle","flex","_QueryForm","ref","createRef","onCancel","current","searchInput","querySelector","focus","dispatchSetQuery","target","htmlFor","RoutedFilmDetails","params","FilmListPage","path","exec","decodeURI","queryFromUriPath","pathname","basename","exact","component","About","ReactDOM","render","getElementById","global","protocol","registerServiceWorker"],"mappings":"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","file":"static/js/main.a8292677.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/movie-icon.3f0ff44e.svg\";","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n)\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404\n        || response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      )\n    })\n}\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://goo.gl/SC7cgQ',\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","export default {\n  REPLACE_FILMS: 'update-films',\n  APPEND_FILMS: 'append-films',\n  UPDATE_FILM_DETAILS: 'update-film-details',\n  UPDATE_IS_FETCHING: 'update-is-fetching',\n  SET_QUERY: 'set-query',\n}\n","import ActionTypes from 'store/const'\n\n/*\n * I discovered that OMDB search can return some duplicate films.\n * This will cause React to throw a warning when it discovers a duplicate key.\n * So we have to guard against duplicate items.\n */\nfunction reduceUniqueFilms(res, film) {\n  res[film.imdbID] = film\n  return res\n}\n\nconst reduceNewFilms = (state, data) => ({\n  ...state,\n  films: (data.films || []).reduce(reduceUniqueFilms, {}),\n  totalResults: parseInt(data.totalResults || '0', 10),\n  pageNum: 1,\n})\n\nconst reduceMoreFilms = (state, data) => ({\n  ...state,\n  films: (data.films || []).reduce(reduceUniqueFilms, { ...state.films || {} }),\n  pageNum: data.pageNum,\n})\n\nexport default function (state={}, action) {\n  const { type, data } = action\n  switch (type) {\n    case ActionTypes.UPDATE_FILM_DETAILS:\n    case ActionTypes.UPDATE_IS_FETCHING:\n    case ActionTypes.SET_QUERY:\n      return {\n        ...state,\n        ...data,\n      }\n    case ActionTypes.REPLACE_FILMS:\n      return reduceNewFilms(state, data)\n    case ActionTypes.APPEND_FILMS:\n      return reduceMoreFilms(state, data)\n    default:\n      return state\n  }\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit'\n\nimport ActionType from './const'\nimport reduce from './reducers'\n\n// Action factories\n\nexport const replaceFilms = (query='', films=[], totalResults=0) => ({\n  type: ActionType.REPLACE_FILMS,\n  data: { films, query, totalResults, pageNum: 1 },\n})\n\nexport const appendFilms = (pageNum=1, films=[]) => ({\n  type: ActionType.APPEND_FILMS,\n  data: { films, pageNum },\n})\n\nexport const updateFilmDetails = (filmDetails) => ({\n  type: ActionType.UPDATE_FILM_DETAILS,\n  data: { filmDetails },\n})\n\nexport const setFetching = (isFetching=false) => ({\n  type: ActionType.UPDATE_IS_FETCHING,\n  data: { isFetching }\n})\n\n/// //////////////\n// State Accessors\n\nexport function getFilms(state) {\n  return Object.values(state.films || {})\n}\n\n/// /////////////\n// Redux Store\n\nconst preloadedState = {\n  isFetching: false,\n  films: [],\n  totalResults: 0,\n  query: '',\n}\n\nexport default configureStore({\n  reducer: reduce,\n  preloadedState,\n  middleware: [...getDefaultMiddleware()],\n})\n","// Remote Actions\n\nimport toastr from 'toastr'\nimport debounce from 'lodash/debounce'\n\nimport store from 'store'\nimport { FETCH_TIMEOUT,\n  OMDB_API_URL_AUTHORITY,\n  OMDB_API_KEY\n} from 'omdb_constants'\nimport ActionType from './const'\nimport {\n  replaceFilms,\n  appendFilms,\n  updateFilmDetails,\n  setFetching,\n} from '.'\n\nconst OBDB_API = `${OMDB_API_URL_AUTHORITY}?apikey=${OMDB_API_KEY}&type=movie`\nconst queryFetchUri = (query) => `${OBDB_API}&s=${query}`\nconst pageFetchUri = (query, page) => queryFetchUri(query) + `&page=${page}`\nconst filmFetchUri = (id) => `${OBDB_API}&i=${id}&plot=full`\n\nfunction toJson(res) {\n  try {\n    return res.json()\n  } catch (e) {\n    return Promise.reject(e)\n  }\n}\n\nconst onCatch = (e) => {\n  console.error(e)\n  toastr.error(e, 'An error occured', {\n    preventDuplicates: true,\n  })\n}\n\n// Returns Promise that resolves to fetched result if successful\nconst promiseFetchOrTimeout = (dispatch, uri, millisec=FETCH_TIMEOUT) => {\n  let timeout\n  const timeoutPromise = new Promise((_, reject) => {\n    timeout = setTimeout(() => {\n      reject(\n        new Error(\n          'Unable to fetch data. Try a different title or try again later.',\n        ),\n      )\n    }, millisec)\n  })\n  dispatch(setFetching(true))\n  return Promise.race([fetch(uri), timeoutPromise])\n    .then(toJson)\n    .catch(onCatch)\n    .finally(() => {\n      clearTimeout(timeout)\n      dispatch(setFetching(false))\n    })\n}\n\nexport const promiseQueryResults = (query) => (dispatch) => promiseFetchOrTimeout(\n  dispatch, queryFetchUri(query)\n).then((res={ Search: [], totalResults: 0 }) => dispatch(replaceFilms(\n  query, res.Search, res.totalResults\n)))\n\nexport const promiseQueryPageFetch = () => (dispatch) => {\n  const { query='', pageNum=1 } = store.getState()\n  const nextPageNum = pageNum + 1\n  return promiseFetchOrTimeout(dispatch, pageFetchUri(query, nextPageNum))\n    .then((res={ Search: [], totalResults: 0 }) => {\n      dispatch(appendFilms(nextPageNum, res.Search))\n    })\n}\n\nexport const promiseFilmDetails = (id) => (dispatch) => {\n  dispatch(updateFilmDetails(null))\n  return promiseFetchOrTimeout(\n    dispatch,\n    filmFetchUri(id),\n  ).then((res) => dispatch(updateFilmDetails(res)))\n}\n\nconst _setQuery = (query='') => ({\n  type: ActionType.SET_QUERY,\n  data: { query },\n})\n\nexport const setQuery = (query='') => (dispatch) => {\n  const debouncedDispatchPromiseQueryResults = debounce(\n    () => dispatch(promiseQueryResults(query)),\n    300\n  )\n  dispatch(_setQuery(query))\n\n  if (!query) {\n    return dispatch(replaceFilms([]))\n  }\n  return debouncedDispatchPromiseQueryResults(query)\n}\n","export const ESC_KEY = 27\nexport const TITLE_COLOR = '#210d87'\nexport const BANNER_TITLE = 'Open Movie Database Browser'\nexport const FETCH_TIMEOUT = 10000\nexport const OMDB_API_URL_AUTHORITY = 'https://www.omdbapi.com'\nexport const OMDB_API_KEY = 'fbfcb8c7'\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst NavButton = ({ style, title, onClick, children }) => (\n  <button\n    type=\"button\"\n    onClick={onClick}\n    title={title}\n    className=\"btn btn-link\"\n    style={style}\n  >\n    {children}\n  </button>\n)\n\nNavButton.propTypes = {\n  style: PropTypes.object,\n  onClick: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.string]).isRequired,\n}\n\nNavButton.defaultProps = {\n  style: {},\n}\n\nexport default NavButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { promiseQueryPageFetch } from 'store/async'\nimport NavButton from 'components/nav-button'\nimport { getFilms } from 'store'\n\nconst buttonStyle = {\n  marginBottom: 20,\n  fontSize: 20,\n  color: 'darkgrey',\n}\n\nexport const _MoreButton = ({ films, totalResults, dispatchPageFetch }) => (\n  films.length < totalResults && (\n    <NavButton\n      onClick={dispatchPageFetch}\n      style={buttonStyle}\n      title=\"More\"\n    >\n      More\n    </NavButton>\n  )\n)\n\n_MoreButton.propTypes = {\n  dispatchPageFetch: PropTypes.func.isRequired,\n}\n\n_MoreButton.propTypes = {\n  films: PropTypes.arrayOf(PropTypes.object).isRequired,\n  totalResults: PropTypes.number.isRequired,\n}\n\nexport default connect(\n  (state) => ({\n    films: getFilms(state),\n    totalResults: state.totalResults,\n  }),\n  (dispatch) => ({\n    dispatchPageFetch: () => dispatch(promiseQueryPageFetch()),\n  }),\n)(_MoreButton)\n","export function scrollToTop() {\n  window.scrollTo(0, 0)\n}\n\nexport function scrollToBottom() {\n  window.scrollTo(0, document.body.scrollHeight)\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport Spinner from 'respin'\n\nexport const _Spinner = ({ busy, style }) => (\n  busy && <Spinner style={style} />\n)\n\n_Spinner.propTypes = {\n  busy: PropTypes.bool.isRequired,\n  style: PropTypes.object,\n}\n\n_Spinner.defaultProps = {\n  style: {},\n}\n\nexport default connect(\n  (state) => ({\n    busy: state.isFetching,\n  })\n)(_Spinner)\n","import React from 'react'\n\nconst btnStyle = {\n  marginLeft: 40,\n  fontSize: 16,\n  color: 'darkgrey',\n}\n\nclass ScrollToTopButton extends React.Component {\n  constructor(props) {\n    super(props)\n    this.toggleVisibility = this.toggleVisibility.bind(this)\n    this.state = {\n      isVisible: this.hasScrollbar()\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.toggleVisibility)\n    window.addEventListener('scroll', this.toggleVisibility)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.toggleVisibility)\n    window.removeEventListener('scroll', this.toggleVisibility)\n  }\n\n  scrollToTop() {\n    window.scrollTo(0, 0)\n  }\n\n  hasScrollbar() {\n    return window.scrollY > 0\n  }\n\n  toggleVisibility() {\n    this.setState({\n      isVisible: this.hasScrollbar()\n    })\n  }\n\n  render() {\n    return this.state.isVisible && (\n      <button\n        type=\"button\"\n        onClick={this.scrollToTop}\n        title=\"Scroll To Top\"\n        className=\"btn btn-link\"\n        style={btnStyle}\n      >\n        Scroll To Top\n      </button>\n    )\n  }\n}\n\nexport default ScrollToTopButton\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { getFilms } from 'store'\n\nexport const _SearchStats = ({ numFetched, numFound, style }) => (\n  <div style={style}>\n    Fetched {numFetched} of {numFound}\n  </div>\n)\n\n_SearchStats.propTypes = {\n  numFetched: PropTypes.number.isRequired,\n  numFound: PropTypes.number.isRequired,\n  style: PropTypes.object,\n}\n\n_SearchStats.defaultProps = {\n  style: {},\n}\n\nexport default connect(\n  (state, ownProps) => ({\n    numFetched: getFilms(state).length,\n    numFound: state.totalResults || 0,\n    style: ownProps.style,\n  })\n)(_SearchStats)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nimport { TITLE_COLOR } from 'omdb_constants'\n\nconst linkStyle = {\n  color: TITLE_COLOR,\n}\n\nconst FilmTitle = ({ filmSummary }) => (\n  <div>\n    <Link\n      to={`/film/${filmSummary.imdbID}`}\n      style={linkStyle}\n      title=\"View film details\"\n    >\n      {`${filmSummary.Title}, ${filmSummary.Year}`}\n    </Link>\n  </div>\n)\n\nFilmTitle.propTypes = {\n  filmSummary: PropTypes.object.isRequired,\n}\nexport default FilmTitle\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport FilmTitle from 'components/film-title'\nimport { getFilms } from 'store'\n\nconst ulStyle = {\n  listStyleType: 'none',\n  lineHeight: 1.5,\n  marginTop: 20,\n}\n\nexport const _FilmList = ({ films }) => (\n  <ul style={ulStyle}>\n    {films.map((film) => (\n      <FilmTitle key={film.imdbID} filmSummary={film} />\n    ))}\n  </ul>\n)\n\n_FilmList.propTypes = {\n  films: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default connect(\n  (state) => ({\n    films: getFilms(state),\n  }),\n)(_FilmList)\n","import React from 'react'\n\nimport MoreButton from 'components/more-button'\nimport { scrollToBottom } from 'components/scroll'\nimport Spinner from 'components/spinner'\nimport ScrollToTopButton from 'components/scroll-to-top-btn'\nimport SearchStats from 'components/search-stats'\nimport FilmList from 'components/film-list'\n\nconst bottomRowStyle = {\n  marginLeft: 40,\n  display: 'flex',\n  justifyContent: 'flex-start',\n  alignItems: 'baseline',\n}\nconst spinnerStyle = {\n  margin: 50,\n}\n\nexport class FilmListWrapper extends React.Component {\n  componentDidUpdate() {\n    scrollToBottom()\n  }\n\n  componentDidCatch(err, errInfo) {\n    console.error(err, errInfo)\n  }\n\n  render() {\n    return (\n      <div>\n        <SearchStats style={{ marginLeft: 40 }} />\n        <FilmList />\n        <Spinner style={spinnerStyle} />\n        <div style={bottomRowStyle}>\n          <MoreButton />\n          <ScrollToTopButton />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default FilmListWrapper\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Link } from 'react-router-dom'\n\nconst closeButtonStyle = {\n  fontSize: 20,\n}\nconst CLOSE_ICON = '\\u2715'\n\nconst CloseButton = ({ next, buttonStyle }) => (\n  <Link\n    to={next}\n    style={{ ...closeButtonStyle, ...buttonStyle }}\n    title=\"Close\"\n  >\n    {CLOSE_ICON}\n  </Link>\n)\n\nCloseButton.propTypes = {\n  next: PropTypes.string.isRequired,\n  buttonStyle: PropTypes.object,\n}\n\nCloseButton.defaultProps = {\n  buttonStyle: {},\n}\n\nexport default CloseButton\n","export const headerStyle = {\n  background: 'linear-gradient(to right, #000040, #3b00ff)',\n  padding: '10px',\n  color: 'white',\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport { headerStyle } from 'style'\nimport { BANNER_TITLE } from 'omdb_constants'\nimport logo from 'img/movie-icon.svg'\n\nconst inAboutPath = () => /about\\/?$/.test(window.location.href)\n\nexport default () => (\n  <header style={headerStyle}>\n    <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n      <h1>\n        <img\n          src={logo}\n          height={20}\n          style={{ margin: 12 }}\n          alt=\"OMDB Browser logo\"\n        />\n        {BANNER_TITLE}\n      </h1>\n      {!inAboutPath() && <Link to=\"/about\" style={{ color: 'white' }}>About</Link>}\n    </div>\n  </header>\n)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport Spinner from 'respin'\n\nimport CloseButton from 'components/close-button'\nimport NavButton from 'components/nav-button'\nimport { scrollToTop } from 'components/scroll'\nimport { promiseFilmDetails } from 'store/async'\nimport { headerStyle } from 'style'\nimport { ESC_KEY } from 'omdb_constants'\nimport OmdbBanner from 'components/omdb-banner'\n\nconst titleStyle = {\n  marginBottom: '5pt',\n}\nconst detailsStyle = {\n  marginTop: 20,\n  fontSize: '14pt',\n}\nconst topButtonStyle = {\n  marginBottom: 20,\n}\nconst spinnerStyle = {\n  margin: 50,\n}\n\nconst itemExists = (item) => item && item !== 'N/A'\nconst imdbUrl = (imdbID) => `https://www.imdb.com/title/${imdbID}`\nconst titleBannerStyle = {\n  ...headerStyle,\n  display: 'flex',\n  justifyContent: 'space-between',\n}\n\nexport class _FilmDetails extends React.Component {\n  static onKeyDown(ev) {\n    if (ev.keyCode === ESC_KEY) {\n      window.history.back()\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    const { dispatchFetchFilmDetails, imdbID } = this.props\n    dispatchFetchFilmDetails(imdbID)\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', _FilmDetails.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', _FilmDetails.onKeyDown)\n  }\n\n  renderTitle() {\n    const { filmDetails } = this.props\n    return filmDetails && (\n      <header style={titleBannerStyle}>\n        <h2 style={{ ...titleStyle, marginTop: 0 }}>{filmDetails.Title}</h2>\n        <CloseButton next=\"/\" buttonStyle={{ color: 'white' }} />\n      </header>\n    )\n  }\n\n  renderDetails() {\n    const { filmDetails } = this.props\n    const FilmDetail = ({ name, label }) => (<li>{label || name}: {filmDetails[name]}</li>)\n    return (\n      <ul style={detailsStyle}>\n        <FilmDetail name=\"Year\" />\n        <FilmDetail name=\"Director\" />\n        <FilmDetail name=\"Writer\" />\n        <FilmDetail name=\"Actors\" label=\"Cast\" />\n        <FilmDetail name=\"Language\" />\n        {itemExists(filmDetails.Awards) && <FilmDetail name=\"Awards\" />}\n        <FilmDetail name=\"Runtime\" label=\"Length\" />\n        <FilmDetail name=\"imdbRating\" label=\"IMDB Rating\" />\n        <FilmDetail name=\"BoxOffice\" />\n        {\n          itemExists(filmDetails.Website)\n          && <FilmDetail key=\"Website\" label=\"Official Website\" />\n        }\n        <li>\n          <a href={imdbUrl(filmDetails.imdbID)}>IMDB page</a>\n        </li>\n      </ul>\n    )\n  }\n\n  static renderScrollToTopButton() {\n    return (\n      <NavButton\n        style={topButtonStyle}\n        onClick={scrollToTop}\n        title=\"Scroll to top of page\"\n      >\n        Top\n      </NavButton>\n    )\n  }\n\n  render() {\n    const { filmDetails, isFetching } = this.props\n\n    if (isFetching) {\n      return (\n        <div>\n          <OmdbBanner />\n          <Spinner style={spinnerStyle} size={64} />\n        </div>\n      )\n    }\n    return filmDetails && (\n      <div>\n        <OmdbBanner />\n        {this.renderTitle()}\n        <div style={{ marginLeft: 20 }}>\n          <img\n            src={filmDetails.Poster}\n            alt=\"poster\"\n            style={{ marginTop: 10 }}\n          />\n          {this.renderDetails()}\n          {_FilmDetails.renderScrollToTopButton()}\n        </div>\n      </div>\n    )\n  }\n}\n\n_FilmDetails.propTypes = {\n  imdbID: PropTypes.string.isRequired,\n  filmDetails: PropTypes.object,\n  dispatchFetchFilmDetails: PropTypes.func.isRequired,\n  isFetching: PropTypes.bool.isRequired,\n}\n_FilmDetails.defaultProps = {\n  filmDetails: null,\n}\n\nexport default connect(\n  (state) => ({\n    filmDetails: state.filmDetails,\n    isFetching: state.isFetching,\n  }),\n  (dispatch) => ({\n    dispatchFetchFilmDetails: (imdbID) => dispatch(promiseFilmDetails(imdbID)),\n  }),\n)(_FilmDetails)\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport CloseButton from 'components/close-button'\nimport { headerStyle } from 'style'\nimport { BANNER_TITLE, ESC_KEY } from 'omdb_constants'\nimport OmdbBanner from 'components/omdb-banner'\n\nconst OMDB_API_URL_AUTHORITY = 'https://www.omdbapi.com/'\nconst SOURCE_CODE_URL = 'https://github.com/lsiden/omdb-film-browser-web'\nconst WESTSIDE_CONSULTING_URL = 'http://westsideconsultingllc.com'\n\nconst source = `\n## Written By\nLawrence Siden\n\n[Westside Consulting LLC](${WESTSIDE_CONSULTING_URL})\n\n[westsideconsultingllc@gmail.com](mailto:westsideconsultingllc@gmail.com)\n\n## Credits\n[Open Movie Database API](${OMDB_API_URL_AUTHORITY})\n\n## Source Code\n${SOURCE_CODE_URL}\n`\n\nconst aboutBannerStyle = {\n  ...headerStyle,\n  display: 'flex',\n  justifyContent: 'space-between',\n}\n\nclass _About extends React.Component {\n  static onKeyDown(ev) {\n    if (ev.keyCode === ESC_KEY) {\n      window.history.back()\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', _About.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', _About.onKeyDown)\n  }\n\n  render() {\n    return (\n      <div style={{ outline: 'none' }}>\n        <OmdbBanner />\n        <header style={aboutBannerStyle}>\n          <h1 style={{ fontSize: 28 }}>{`About ${BANNER_TITLE}`}</h1>\n          <CloseButton next=\"/\" buttonStyle={{ color: 'white' }} />\n        </header>\n        <div style={{ marginLeft: 20 }}>\n          <ReactMarkdown source={source} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default _About\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst SEARCH_ICON = '\\u26b2'\nconst CANCEL_ICON = '\\u2a09'\nconst ICON_COLOR = '#888'\n\nconst searchIconStyle = {\n  position: 'absolute',\n  top: '-4pt',\n  left: '6pt',\n  color: ICON_COLOR,\n  fontSize: '20pt',\n  transform: 'rotate(-45deg)',\n}\n\nconst cancelIconStyle = {\n  position: 'absolute',\n  fontSize: 16,\n  bottom: 4,\n  right: 8,\n  color: ICON_COLOR,\n}\n\nexport const SearchIcon = () => (\n  <span\n    style={searchIconStyle}\n    charSet=\"utf-8\"\n    dangerouslySetInnerHTML={{ __html: SEARCH_ICON }}\n  />\n)\n\nexport const CancelIcon = ({ onClick }) => (\n  <span\n    role=\"button\"\n    tabIndex={0}\n    aria-label=\"Cancel\"\n    className=\"hover-pointer\"\n    style={cancelIconStyle}\n    charSet=\"utf-8\"\n    dangerouslySetInnerHTML={{ __html: CANCEL_ICON }}\n    onClick={onClick}\n    onKeyPress={onClick}\n  />\n)\n\nCancelIcon.propTypes = {\n  onClick: PropTypes.func,\n}\n\nCancelIcon.defaultProps = {\n  onClick: () => {},\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { SearchIcon, CancelIcon } from 'components/icons'\n\nconst wrapperStyle = {\n  position: 'relative',\n  width: '100%',\n}\n\nconst inputStyle = {\n  height: '24pt',\n  textIndent: '24pt',\n  fontSize: '12pt',\n  color: 'black',\n  width: '100%',\n}\n\nconst SearchInput = ({ value, onCancelClick, onChange, placeholder }) => (\n  <div style={wrapperStyle}>\n    <SearchIcon />\n    <input\n      type=\"search\"\n      value={value}\n      placeholder={placeholder}\n      onChange={onChange}\n      style={inputStyle}\n    />\n    <CancelIcon onClick={onCancelClick} />\n  </div>\n)\n\nSearchInput.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  onCancelClick: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  placeholder: PropTypes.string,\n}\n\nSearchInput.defaultProps = {\n  value: '',\n  placeholder: '',\n}\n\nexport default SearchInput\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { setQuery } from 'store/async'\nimport SearchInput from 'components/search-input'\nimport { headerStyle } from 'style'\n\nconst formRowStyle = {\n  display: 'flex',\n}\nconst searchLabelStyle = {\n  marginRight: '1em'\n}\nconst searchInputStyle = {\n  flex: '1 1'\n}\n\nexport class _QueryForm extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n    this.onChange = this.onChange.bind(this)\n    this.onCancel = this.onCancel.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.ref.current) {\n      const searchInput = this.ref.current.querySelector('input[type=search]')\n\n      if (searchInput) {\n        searchInput.focus()\n      }\n    }\n  }\n\n  componentDidCatch(err, errInfo) {\n    console.error(err, errInfo)\n  }\n\n  onCancel() {\n    this.props.dispatchSetQuery('')\n  }\n\n  onChange(ev) {\n    const { dispatchSetQuery } = this.props\n    const query = ev.target.value\n    dispatchSetQuery(query)\n  }\n\n  render() {\n    const { query } = this.props\n    return (\n      <form ref={this.ref} style={headerStyle}>\n        <div style={formRowStyle}>\n          <label htmlFor=\"query-form-search-input\" style={searchLabelStyle}>Search</label>\n          <SearchInput\n            style={searchInputStyle}\n            id=\"query-form-search-input\"\n            placeholder=\"Film Title ...\"\n            value={query}\n            onChange={this.onChange}\n            onCancelClick={this.onCancel}\n          />\n        </div>\n      </form>\n    )\n  }\n}\n\n_QueryForm.propTypes = {\n  dispatchSetQuery: PropTypes.func.isRequired,\n  query: PropTypes.string,\n}\n_QueryForm.defaultProps = {\n  query: '',\n}\n\nexport default connect(\n  (state) => ({\n    query: state.query || '',\n  }),\n  (dispatch) => ({\n    dispatchSetQuery: (query='') => dispatch(setQuery(query)),\n  }),\n)(_QueryForm)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport FilmList from 'features/film-list'\nimport FilmDetails from 'features/film-details'\nimport About from 'features/about'\nimport store from 'store'\nimport { setQuery } from 'store/async'\nimport { queryFromUriPath } from 'helpers'\nimport OmdbBanner from 'components/omdb-banner'\nimport QueryForm from 'components/query-form'\n\nconst RoutedFilmDetails = ({ match }) => (<FilmDetails imdbID={match.params.imdbID} />)\nRoutedFilmDetails.propTypes = { match: PropTypes.object.isRequired }\n\nconst FilmListPage = () => (\n  <div>\n    <OmdbBanner />\n    <QueryForm />\n    <FilmList />\n  </div>\n)\n\n// See  https://itnext.io/so-you-want-to-host-your-single-age-react-app-on-github-pages-a826ab01e48\n// for basename property.\nexport default () => {\n  const query = queryFromUriPath(window.location.pathname)\n\n  if (query) {\n    store.dispatch(setQuery(query))\n  }\n  return (\n    <div>\n      <Provider store={store}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Route exact path=\"/\">\n            <Redirect to=\"/search\" />\n          </Route>\n          <Route path=\"/search\" component={FilmListPage} />\n          <Route path=\"/film/:imdbID\" component={RoutedFilmDetails} />\n          <Route path=\"/about\" component={About} />\n        </Router>\n      </Provider>\n    </div>\n  )\n}\n","export function queryFromUriPath(path) {\n  const match = /\\/search\\/([^/?]+)/.exec(decodeURI(path))\n  return match ? match[1] : ''\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport OmdbMain from 'omdb-main'\n\nimport registerServiceWorker from 'registerServiceWorker'\nimport 'toastr/build/toastr.css'\n\nReactDOM.render(<OmdbMain />, document.getElementById('root'))\n\n// Service workers are available only on HTTPS sites.\nif (global.location.protocol === 'https:') {\n  registerServiceWorker()\n}\n"],"sourceRoot":""}